(this["webpackJsonpnora-zheng-test-four"]=this["webpackJsonpnora-zheng-test-four"]||[]).push([[0],{13:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(7),r=a.n(s),c=(a(13),a(2)),o=a(3),i=a(5),l=a(4),d=a(0),h=function(){return Object(d.jsx)("header",{children:Object(d.jsx)("h1",{children:"CSV Reader"})})},j=a(8),u=a.n(j),g=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggleOrder=function(){n.setState({ascending:!n.state.ascending})},n.state={ascending:!0},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.ascending,a=this.props,n=a.id,s=a.key,r=a.column,c=a.sortData,o=a.content;return Object(d.jsx)("th",{children:Object(d.jsxs)("button",{className:"tHeader",id:n,onClick:function(){c(r,t),e.toggleOrder()},children:[Object(d.jsx)("span",{className:"visuallyHidden",children:t?"sort in ascending order":"sort in descending order"}),o]},s)})}}]),a}(n.Component),b=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).calcMaxPage=function(){return Math.ceil((n.state.data.length-1)/n.state.rowsPerPage)},n.handleData=function(e){var t=n.props.data,a=e.shift(),s=t.filter((function(e){return e.length===a.length}));n.setState({data:s,headers:a},(function(){var e=n.state.pageNum;e<n.calcMaxPage()?n.getPage(e):n.getPage(n.calcMaxPage())}))},n.getPage=function(e){var t=n.state,a=t.data,s=t.rowsPerPage,r=a.slice((e-1)*s,e*s);n.setState({currentPage:r,pageNum:e})},n.sortData=function(e,t){for(var a=document.getElementById("tbody"),n=a.rows,s=!0;s;){s=!1;for(var r=0;r<n.length-1;r++){var c=n[r].querySelector(".".concat(e)).innerHTML,o=n[r+1].querySelector(".".concat(e)).innerHTML;(t?isNaN(parseFloat(c))||isNaN(parseFloat(o))?c>o:parseFloat(c)>parseFloat(o):isNaN(parseFloat(c))||isNaN(parseFloat(o))?c<o:parseFloat(c)<parseFloat(o))&&(a.insertBefore(n[r+1],n[r]),s=!0)}}},n.selectRowsPerPage=function(e){var t=n.state,a=t.pageNum,s=t.headers,r=n.state.rowsPerPage,c=parseInt(e.target.value);n.setState({rowsPerPage:c},(function(){a<n.calcMaxPage()?n.getPage(a):n.getPage(n.calcMaxPage()),r<c&&n.sortData(s[0],!0)}))},n.componentDidMount=function(){var e=n.props.data;n.handleData(e)},n.state={currentPage:[],data:[],headers:[],pageNum:1,rowsPerPage:20},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.data,a=this.state.headers;t!==e.data&&(this.handleData(t),this.sortData(a[0],!0))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNum,n=t.headers,s=t.currentPage;return Object(d.jsxs)("section",{className:"data",children:[Object(d.jsxs)("label",{children:["Show",Object(d.jsxs)("select",{id:"rowsPerPage",onChange:this.selectRowsPerPage,children:[Object(d.jsx)("option",{value:"20",children:"20"}),Object(d.jsx)("option",{value:"50",children:"50"}),Object(d.jsx)("option",{value:"100",children:"100"}),Object(d.jsx)("option",{value:"200",children:"200"})]}),"rows per page"]}),1===a?Object(d.jsxs)("button",{className:"nav",disabled:!0,children:["< ",Object(d.jsx)("span",{className:"visuallyHidden",children:"previous page"})]}):Object(d.jsxs)("button",{className:"nav",onClick:function(){e.getPage(a-1)},children:["< ",Object(d.jsx)("span",{className:"visuallyHidden",children:"previous page"})]}),Object(d.jsxs)("label",{htmlFor:"pageNum",children:[Object(d.jsx)("span",{className:"visuallyHidden",children:"current page"}),a]}),a===this.calcMaxPage()?Object(d.jsxs)("button",{className:"nav",disabled:!0,children:["> ",Object(d.jsx)("span",{className:"visuallyHidden",children:"next page"})]}):Object(d.jsxs)("button",{className:"nav",onClick:function(){e.getPage(a+1)},children:["> ",Object(d.jsx)("span",{className:"visuallyHidden",children:"next page"})]}),Object(d.jsx)("p",{children:"Click on a header to sort the table in ascending / descending order."}),Object(d.jsx)("div",{className:"scroll",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:n.map((function(t,a){return Object(d.jsx)(g,{id:"header".concat(t.replace(/\s/g,"")),content:t.replace(/_/g," "),column:t.replace(/\s/g,""),sortData:e.sortData},"header".concat(a))}))})}),Object(d.jsx)("tbody",{id:"tbody",children:s.map((function(e){return Object(d.jsx)("tr",{children:e.map((function(e,t){return Object(d.jsx)("td",{className:"".concat(n[t].replace(/\s/g,"")),children:e})}))})}))})]})})]})}}]),a}(n.Component),p=function(){return Object(d.jsx)("footer",{children:Object(d.jsxs)("p",{children:[Object(d.jsx)("a",{href:"https://github.com/norazheng",children:"Nora Zheng"})," \xa9 2019"]})})},O=(a(18),function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleData=function(t){e.setState({loading:!0,csvData:t},(function(){e.setState({loading:!1})}))},e.handleError=function(){e.setState({error:"Something went wrong!"})},e.state={csvData:null,loading:!1,error:""},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.csvData,n=e.error;return t?Object(d.jsx)("p",{children:"Loading"}):n?Object(d.jsx)("p",{children:n}):Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{}),Object(d.jsx)(u.a,{cssClass:"csvInput",label:"Upload a .CSV file",onFileLoaded:this.handleData,onError:this.handleError,inputId:"upload"}),a?Object(d.jsx)(b,{data:a}):Object(d.jsx)("div",{className:"box",children:n?Object(d.jsx)("p",{children:n}):Object(d.jsx)("p",{children:"Your CSV data will be displayed here"})}),Object(d.jsx)(p,{})]})}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(d.jsx)(O,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.21633149.chunk.js.map