(this["webpackJsonpnora-zheng-test-four"]=this["webpackJsonpnora-zheng-test-four"]||[]).push([[0],{14:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),c=t.n(l),o=(t(14),t(1)),s=t(2),i=t(4),u=t(3),d=t(5),m=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"CSV Reader"))},g=t(8),p=t.n(g),h=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).toggleOrder=function(){t.setState({ascending:!t.state.ascending})},t.state={ascending:!0},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state.ascending,t=this.props,n=t.id,l=t.key,c=t.column,o=t.sortData,s=t.content;return r.a.createElement("th",null,r.a.createElement("button",{className:"tHeader",id:n,key:l,onClick:function(){o(c,a),e.toggleOrder()}},r.a.createElement("span",{className:"visuallyHidden"},a?"sort in ascending order":"sort in descending order"),s))}}]),a}(n.Component),E=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).calcMaxPage=function(){return Math.ceil((t.state.data.length-1)/t.state.rowsPerPage)},t.handleData=function(e){var a=t.props.data,n=e.shift(),r=a.filter((function(e){return e.length===n.length}));t.setState({data:r,headers:n},(function(){var e=t.state.pageNum;e<t.calcMaxPage()?t.getPage(e):t.getPage(t.calcMaxPage())}))},t.getPage=function(e){var a=t.state,n=a.data,r=a.rowsPerPage,l=n.slice((e-1)*r,e*r);t.setState({currentPage:l,pageNum:e})},t.sortData=function(e,a){for(var t=document.getElementById("tbody"),n=t.rows,r=!0;r;){r=!1;for(var l=0;l<n.length-1;l++){var c=n[l].querySelector(".".concat(e)).innerHTML,o=n[l+1].querySelector(".".concat(e)).innerHTML;(a?isNaN(parseFloat(c))||isNaN(parseFloat(o))?c>o:parseFloat(c)>parseFloat(o):isNaN(parseFloat(c))||isNaN(parseFloat(o))?c<o:parseFloat(c)<parseFloat(o))&&(t.insertBefore(n[l+1],n[l]),r=!0)}}},t.selectRowsPerPage=function(e){var a=t.state,n=a.pageNum,r=a.headers,l=t.state.rowsPerPage,c=parseInt(e.target.value);t.setState({rowsPerPage:c},(function(){n<t.calcMaxPage()?t.getPage(n):t.getPage(t.calcMaxPage()),l<c&&t.sortData(r[0],!0)}))},t.componentDidMount=function(){var e=t.props.data;t.handleData(e)},t.state={currentPage:[],data:[],headers:[],pageNum:1,rowsPerPage:20},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this.props.data,t=this.state.headers;a!==e.data&&(this.handleData(a),this.sortData(t[0],!0))}},{key:"render",value:function(){var e=this,a=this.state,t=a.pageNum,n=a.headers,l=a.currentPage;return r.a.createElement("section",{className:"data"},r.a.createElement("label",null,"Show",r.a.createElement("select",{id:"rowsPerPage",onChange:this.selectRowsPerPage},r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"200"},"200")),"rows per page"),1===t?r.a.createElement("button",{className:"nav",disabled:!0},"< ",r.a.createElement("span",{className:"visuallyHidden"},"previous page")):r.a.createElement("button",{className:"nav",onClick:function(){e.getPage(t-1)}},"< ",r.a.createElement("span",{className:"visuallyHidden"},"previous page")),r.a.createElement("label",{htmlFor:"pageNum"},r.a.createElement("span",{className:"visuallyHidden"},"current page"),t),t===this.calcMaxPage()?r.a.createElement("button",{className:"nav",disabled:!0},"> ",r.a.createElement("span",{className:"visuallyHidden"},"next page")):r.a.createElement("button",{className:"nav",onClick:function(){e.getPage(t+1)}},"> ",r.a.createElement("span",{className:"visuallyHidden"},"next page")),r.a.createElement("p",null,"Click on a header to sort the table in ascending / descending order."),r.a.createElement("div",{className:"scroll"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,n.map((function(a,t){return r.a.createElement(h,{id:"header".concat(a.replace(/\s/g,"")),key:"header".concat(t),content:a.replace(/_/g," "),column:a.replace(/\s/g,""),sortData:e.sortData})})))),r.a.createElement("tbody",{id:"tbody"},l.map((function(e){return r.a.createElement("tr",null,e.map((function(e,a){return r.a.createElement("td",{className:"".concat(n[a].replace(/\s/g,""))},e)})))}))))))}}]),a}(n.Component),v=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/norazheng"},"Nora Zheng")," \xa9 2019"))},f=(t(18),function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(i.a)(this,Object(u.a)(a).call(this))).handleData=function(a){e.setState({loading:!0,csvData:a},(function(){e.setState({loading:!1})}))},e.handleError=function(){e.setState({error:"Something went wrong!"})},e.state={csvData:null,loading:!1,error:""},e}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.loading,t=e.csvData,n=e.error;return a?r.a.createElement("p",null,"Loading"):n?r.a.createElement("p",null,n):r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement(p.a,{cssClass:"csvInput",label:"Upload a .CSV file",onFileLoaded:this.handleData,onError:this.handleError,inputId:"upload"}),t?r.a.createElement(E,{data:t}):r.a.createElement("div",{className:"box"},n?r.a.createElement("p",null,n):r.a.createElement("p",null,"Your CSV data will be displayed here")),r.a.createElement(v,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,a,t){e.exports=t(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.608bbace.chunk.js.map