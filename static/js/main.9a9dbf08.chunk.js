(this["webpackJsonpnora-zheng-test-four"]=this["webpackJsonpnora-zheng-test-four"]||[]).push([[0],{14:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),s=t.n(l),c=(t(14),t(1)),o=t(2),i=t(4),u=t(3),m=t(5),d=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"CSV Reader"))},p=t(8),g=t.n(p),h=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).calcMaxPage=function(){return Math.ceil((t.state.data.length-1)/t.state.rowsPerPage)},t.handleData=function(e){var a=e.shift(),n=t.props.data.filter((function(e){return e.length===a.length}));t.setState({data:n,headers:a},(function(){t.state.pageNum<t.calcMaxPage()?t.getPage(t.state.pageNum):t.getPage(t.calcMaxPage())}))},t.getPage=function(e){var a=t.state.data.slice((e-1)*t.state.rowsPerPage,e*t.state.rowsPerPage);t.setState({currentPage:a,pageNum:e})},t.sortData=function(e,a){for(var t=document.getElementById("tbody"),n=t.rows,r=!0;r;){r=!1;for(var l=0;l<n.length-1;l++){var s=n[l].querySelector(".".concat(e)).innerHTML,c=n[l+1].querySelector(".".concat(e)).innerHTML;(a?isNaN(parseFloat(s))||isNaN(parseFloat(c))?s>c:parseFloat(s)>parseFloat(c):isNaN(parseFloat(s))||isNaN(parseFloat(c))?s<c:parseFloat(s)<parseFloat(c))&&(t.insertBefore(n[l+1],n[l]),r=!0)}}},t.selectRowsPerPage=function(e){var a=e.target.value;t.setState({rowsPerPage:a},(function(){t.state.pageNum<t.calcMaxPage()?t.getPage(t.state.pageNum):t.getPage(t.calcMaxPage())}))},t.componentDidMount=function(){t.handleData(t.props.data)},t.state={currentPage:[],data:[],headers:[],pageNum:1,rowsPerPage:20},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.data!==e.data&&this.handleData(this.props.data)}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"data"},r.a.createElement("label",null,"Show",r.a.createElement("select",{id:"rowsPerPage",onChange:this.selectRowsPerPage},r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"200"},"200")),"rows per page"),1===this.state.pageNum?r.a.createElement("button",{className:"nav",disabled:!0},"< ",r.a.createElement("span",{className:"visuallyHidden"},"previous page")):r.a.createElement("button",{className:"nav",onClick:function(){e.getPage(e.state.pageNum-1)}},"< ",r.a.createElement("span",{className:"visuallyHidden"},"previous page")),r.a.createElement("label",{htmlFor:"pageNum"},r.a.createElement("span",{className:"visuallyHidden"},"current page"),this.state.pageNum),this.state.pageNum===this.calcMaxPage()?r.a.createElement("button",{className:"nav",disabled:!0},"> ",r.a.createElement("span",{className:"visuallyHidden"},"next page")):r.a.createElement("button",{className:"nav",onClick:function(){e.getPage(e.state.pageNum+1)}},"> ",r.a.createElement("span",{className:"visuallyHidden"},"next page")),r.a.createElement("div",{className:"scroll"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,this.state.headers.map((function(a,t){return r.a.createElement("th",{className:"header",id:"header".concat(a.replace(/\s/g,"")),key:"header".concat(t)},a,r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){e.sortData(a.replace(/\s/g,""),!0)},className:"sort"},r.a.createElement("span",{className:"visuallyHidden"},"Ascending"),"\u25b2"),r.a.createElement("button",{onClick:function(){e.sortData(a.replace(/\s/g,""),!1)},className:"sort"},r.a.createElement("span",{className:"visuallyHidden"},"Descending"),"\u25bc")))})))),r.a.createElement("tbody",{id:"tbody"},this.state.currentPage.map((function(a){return r.a.createElement("tr",null,a.map((function(a,t){return r.a.createElement("td",{className:"".concat(e.state.headers[t].replace(/\s/g,""))},a)})))}))))))}}]),a}(n.Component),E=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/norazheng"},"Nora Zheng")," \xa9 2019"))},v=(t(18),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(u.a)(a).call(this))).handleData=function(a){e.setState({csvData:a,displayData:!0})},e.handleError=function(){alert("Something went wrong")},e.state={csvData:[],displayData:!1},e}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(g.a,{cssClass:"csvInput",label:"Upload a .CSV file",onFileLoaded:this.handleData,onError:this.handleError,inputId:"upload"}),this.state.displayData?r.a.createElement(h,{data:this.state.csvData}):r.a.createElement("div",{className:"box"},r.a.createElement("p",null,"Your CSV data will be displayed here")),r.a.createElement(E,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,a,t){e.exports=t(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.9a9dbf08.chunk.js.map